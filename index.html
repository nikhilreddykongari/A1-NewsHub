<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI News Hub</title>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-52G2J3WJXD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-52G2J3WJXD');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: #0a0a0a;
            color: #fff;
            line-height: 1.6;
        }

        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            z-index: -1;
        }

        .video-background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
        }

        .video-background video {
            min-width: 100%;
            min-height: 100%;
            object-fit: cover;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .main-header {
            padding: 3rem 2rem;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(99, 102, 241, 0.4) 100%);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .main-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80') center/cover;
            opacity: 0.2;
            z-index: -1;
        }
        
        .header-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .main-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, #6366f1, #818cf8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .tagline {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: #ccc;
        }
        
        .header-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #6366f1;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #ccc;
        }

        .main-nav {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 1rem;
            display: flex;
            justify-content: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .main-nav ul {
            list-style: none;
            display: flex;
            gap: 3rem;
        }

        .main-nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-size: 1.1rem;
        }

        .main-nav a:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-1px);
        }
        
        .main-nav a.active {
            background: #6366f1;
            color: white;
            box-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .grid {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 2rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.3);
        }

        .card-video {
            width: 100%;
            height: 200px;
            position: relative;
            overflow: hidden;
            background-position: center;
            background-size: cover;
        }

        .card-video video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.6) 100%);
            display: flex;
            align-items: flex-end;
            padding: 1rem;
        }

        .card-content {
            padding: 1.5rem;
        }

        .card h3 {
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .card p {
            color: #ccc;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-footer button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .card-footer button:hover {
            background: #818cf8;
        }

        .card-footer small {
            color: #9ca3af;
        }

        .expanded-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .expanded-content.active {
            max-height: 2000px;
            margin-top: 1rem;
        }

        .full-article {
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            margin-top: 1rem;
        }

        .ai-divider {
            width: 100%;
            height: 180px;
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            margin: 1.5rem 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease-out;
            background: #1a1a1a;
            cursor: pointer;
        }
        
        .ai-divider:hover {
            transform: translateY(0);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.2);
        }

        .ai-divider.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .divider-image {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            transition: transform 0.4s ease-out;
        }
        
        .ai-divider:hover .divider-image {
            transform: scale(1.05);
        }
        
        .divider-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(0,0,0,0.7) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 1.5rem;
            transition: background 0.3s ease;
        }
        
        .ai-divider:hover .divider-overlay {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.95) 0%, rgba(0,0,0,0.8) 100%);
        }
        
        .divider-overlay h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            color: white;
            max-width: 80%;
        }
        
        .divider-overlay p {
            font-size: 0.95rem;
            opacity: 0.95;
            max-width: 80%;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
        }

        .source-tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: rgba(99, 102, 241, 0.2);
            color: #6366f1;
            border-radius: 4px;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        /* Content Tabs */
        .content-tabs {
            margin-top: 1.5rem;
        }

        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 0.5rem 1rem;
            color: #ccc;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: #6366f1;
            color: white;
        }

        .tab-content {
            display: none;
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 4px;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content h4 {
            margin-bottom: 1rem;
            color: #eee;
        }

        /* Video container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            margin-top: 1rem;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 4px;
        }

        footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
            backdrop-filter: blur(10px);
        }

        .update-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(99, 102, 241, 0.9);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            animation: slide-in 0.5s forwards;
        }
        
        .notification-content {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .update-notification.fade-out {
            animation: fade-out 0.5s forwards;
        }
        
        @keyframes slide-in {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fade-out {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* Freshness badge */
        .freshness-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(99, 102, 241, 0.9);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            z-index: 2;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .card-category-tag {
            background: rgba(99, 102, 241, 0.8);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: 500;
            text-transform: capitalize;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            display: inline-block;
            margin-bottom: 0.5rem;
        }
        
        /* Update info in header */
        .update-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin: 1rem 0;
            color: #ccc;
            font-size: 0.9rem;
        }
        
        .countdown-container {
            background: rgba(99, 102, 241, 0.1);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            color: #6366f1;
            font-weight: 500;
        }
        
        #update-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(99, 102, 241, 0.2);
            color: #6366f1;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        #update-button:hover {
            background: rgba(99, 102, 241, 0.4);
        }
        
        #update-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        #update-button.pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Source link */
        .source-link {
            margin-top: 1rem;
        }
        
        .source-link a {
            display: inline-block;
            background: #6366f1;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s;
        }
        
        .source-link a:hover {
            background: #4f46e5;
            transform: translateY(-2px);
        }
        
        /* X (Twitter) Feed Styles */
        .x-feed {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .x-post {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .x-post-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }
        
        .x-profile-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .x-user-info {
            flex: 1;
        }
        
        .x-name {
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .x-verified {
            color: #1DA1F2;
            font-size: 0.8rem;
            background: rgba(29, 161, 242, 0.1);
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .x-handle {
            color: #9ca3af;
            font-size: 0.85rem;
        }
        
        .x-post-content {
            margin-bottom: 0.75rem;
            line-height: 1.5;
        }
        
        .x-post-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #9ca3af;
            font-size: 0.85rem;
        }
        
        .x-stats {
            display: flex;
            gap: 1rem;
        }
        
        .x-stat {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .x-icon {
            font-style: normal;
            font-size: 0.8rem;
        }
        
        .refresh-x-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: rgba(29, 161, 242, 0.1);
            color: #1DA1F2;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            margin-top: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .refresh-x-btn:hover {
            background: rgba(29, 161, 242, 0.2);
        }
        
        .x-loading {
            text-align: center;
            padding: 1rem;
            color: #9ca3af;
        }
        
        .x-refresh-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(29, 161, 242, 0.9);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 20px;
            font-size: 0.9rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            animation: fade-in 0.5s forwards;
        }
        
        .x-refresh-notification.fade-out {
            animation: fade-out 0.5s forwards;
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: translate(-50%, 20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }
        
        /* Article content styles */
        .article-content {
            line-height: 1.7;
            color: #e0e0e0;
            margin-top: 1.5rem;
        }
        
        .article-content p {
            margin-bottom: 1.2rem;
        }
        
        .article-content ul {
            margin: 1rem 0 1.5rem 1.5rem;
        }
        
        .article-content li {
            margin-bottom: 0.5rem;
        }
        
        .article-metadata {
            display: flex;
            justify-content: space-between;
            color: #9ca3af;
            font-size: 0.9rem;
            margin: 0.5rem 0 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2b3582 0%, #473b78 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .card-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80') center/cover;
            opacity: 0.2;
        }
        
        .card-category-tag {
            background: rgba(99, 102, 241, 0.6);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 500;
            text-transform: capitalize;
            position: relative;
            z-index: 1;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            .main-nav {
                flex-direction: column;
                padding: 1rem;
            }
            
            .main-nav ul {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
                margin-bottom: 1rem;
                width: 100%;
            }
            
            .search-bar {
                width: 100%;
            }
            
            .search-bar input {
                width: 100%;
            }
            
            .header-stats {
                flex-direction: column;
                gap: 1rem;
            }
            
            .divider-overlay h3,
            .divider-overlay p {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="https://cdn.pixabay.com/vimeo/328218457/abstract-27269.mp4?width=1280&hash=c6e0e1c2e4d8c0c5c2e4d8c0c5c2e4d8c0c5c2e4" type="video/mp4">
        </video>
    </div>

    <header class="main-header">
        <div class="header-content">
            <h1>AI News Hub</h1>
            <p class="tagline">Your source for the latest in artificial intelligence</p>
            <div class="update-info" style="display: none;">
                <span>Last updated: <span id="last-updated"></span></span>
                <span class="countdown-container">Next refresh in: <span id="refresh-countdown">5:00</span></span>
                <button id="update-button" onclick="createNewsCards(); updateLastUpdatedTime();" title="Check for new content">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                    </svg>
                    Refresh Now
                </button>
            </div>
            <div class="header-stats">
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Live Updates</span>
                </div>
                <div class="stat">
                    <span class="stat-number">100+</span>
                    <span class="stat-label">AI Sources</span>
                </div>
                <div class="stat">
                    <span class="stat-number">500k+</span>
                    <span class="stat-label">Daily Readers</span>
                </div>
            </div>
        </div>
    </header>

    <nav class="main-nav" id="mainNav">
        <ul>
            <li><a href="#news" onclick="filterContent('news')" class="active">News</a></li>
            <li><a href="#research" onclick="filterContent('research')">Research</a></li>
            <li><a href="#business" onclick="filterContent('business')">Business</a></li>
            <li><a href="#industry" onclick="filterContent('industry')">Industry</a></li>
            <li><a href="#trending" onclick="filterContent('trending')">X Trending</a></li>
        </ul>
    </nav>

    <main class="container">
        <section id="featured">
            <h2>Featured Content</h2>
            <div class="grid">
                <!-- Content will be dynamically inserted here -->
            </div>
        </section>
    </main>
    
    <!-- Social sharing styles -->
    <style>
        .social-share {
            display: flex;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }
        
        .share-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .share-btn.twitter {
            background: #1DA1F2;
            color: white;
        }
        
        .share-btn.facebook {
            background: #4267B2;
            color: white;
        }
        
        .share-btn.email {
            background: #EA4335;
            color: white;
        }
        
        .share-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
    </style>

    <footer>
        <p>&copy; 2024 AI News Hub. All rights reserved.</p>
    </footer>
    
    <!-- Load CSS and JavaScript files -->
    <link rel="stylesheet" href="background.css">
    <link rel="stylesheet" href="mobile.css">
    <script src="script.js"></script>
    <script src="background.js"></script>

    <script>
        // Function to format date
        function formatDate(date) {
            return new Date(date).toLocaleString();
        }

        // Function to get source name from URL
        function getSourceName(url) {
            const domain = new URL(url).hostname;
            if (domain.includes('google')) return 'Google AI';
            if (domain.includes('aws')) return 'AWS AI';
            if (domain.includes('microsoft')) return 'Microsoft AI';
            if (domain.includes('apple')) return 'Apple ML';
            if (domain.includes('openai')) return 'OpenAI';
            return 'AI News';
        }

        // Topic-specific image collection
        const topicImages = {
            // General AI topics
            ai: [
                'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1677442135136-760c813029fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1589254065878-42c9da997008?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Machine learning
            ml: [
                'https://images.unsplash.com/photo-1555255707-c07966088b7b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1527474305487-b87b222841cc?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1501621667575-af81f1f0bacc?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Robotics
            robotics: [
                'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1531746790731-6c087fecd65a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1561144257-e32e8efc6c4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Business/Finance
            business: [
                'https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1591696205602-2f950c417cb9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Healthcare
            healthcare: [
                'https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Manufacturing
            manufacturing: [
                'https://images.unsplash.com/photo-1581091226033-d5c48150dbaa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1581093458791-9b7cd2761e4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1565361834503-d5259409667c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Research/Science
            research: [
                'https://images.unsplash.com/photo-1507668077129-56e32842fceb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1582719471384-894fbb16e074?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // News/Media
            news: [
                'https://images.unsplash.com/photo-1504711434969-e33886168f5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1495020689067-958852a7765e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1588681664899-f142ff2dc9b1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Social Media
            social: [
                'https://images.unsplash.com/photo-1611162618071-b39a2ec055fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1611162616475-46b635cb6868?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1562577309-4932fdd64cd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ],
            // Ethics/Safety
            ethics: [
                'https://images.unsplash.com/photo-1589578527966-fdac0f44566c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1607799279861-4dd421887fb3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                'https://images.unsplash.com/photo-1453738773917-9c3eff1db985?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
            ]
        };
        
        // Default category images as fallback
        const categoryImages = {
            news: topicImages.news[0],
            research: topicImages.research[0],
            business: topicImages.business[0],
            industry: topicImages.manufacturing[0],
            trending: topicImages.social[0]
        };
        
        // Function to create news card HTML
        function createNewsCard(article, index) {
            // Use article source if available, otherwise get from URL
            const sourceName = article.source || getSourceName(article.url);
            
            // Check if article has video content
            const hasVideo = articleHasVideo(article);
            
            // Create freshness indicator
            const freshness = article.lastUpdated ? 
                `<span class="freshness-badge">${article.lastUpdated}</span>` : '';
            
            // Generate appropriate image based on article content
            let imageUrl = article.imageUrl;
            
            // If no image URL is provided, select a relevant image based on content
            if (!imageUrl) {
                imageUrl = getContentBasedImage(article);
            }
            
            const imageStyle = `background-image: url('${imageUrl}'); background-size: cover;`;
            
            // Get X (Twitter) posts for this article
            const xPosts = getXPostsForArticle(article);
            
            // Generate relevant article content based on the article's topic
            const articleContent = generateArticleContent(article);
            
            // Generate tab buttons based on content availability
            const tabButtons = `
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab(${index}, 'fulltext')">Full Article</button>
                    ${hasVideo ? `<button class="tab-btn" onclick="showTab(${index}, 'video')">Video</button>` : ''}
                    <button class="tab-btn" onclick="showTab(${index}, 'x')">X Feed</button>
                    <button class="tab-btn" onclick="showTab(${index}, 'source')">Source</button>
                </div>
            `;
            
            return `
                <article class="card">
                    <div class="card-video" style="${imageStyle}">
                        <div class="card-overlay">
                            <div class="card-category-tag">${article.category}</div>
                        </div>
                        ${freshness}
                    </div>
                    <div class="card-content">
                        <div class="source-tag">${sourceName}</div>
                        <h3>${article.title}</h3>
                        <p>${article.description}</p>
                        
                        <div id="expanded-${index}" class="expanded-content">
                            <div class="full-article">
                                <!-- Content Tabs -->
                                <div class="content-tabs">
                                    ${tabButtons}
                                    
                                    <div class="tab-content active" id="tab-${index}-fulltext">
                                        <h4>${article.title}</h4>
                                        <div class="article-metadata">
                                            <span class="article-author">By ${sourceName}</span>
                                            <span class="article-date">${formatDate(article.publishedAt)}</span>
                                        </div>
                                        <div class="article-content">
                                            ${articleContent}
                                        </div>
                                    </div>
                                    
                                    ${hasVideo ? `
                                    <div class="tab-content" id="tab-${index}-video">
                                        <h4>Related Video: ${article.title}</h4>
                                        <div class="video-container">
                                            <iframe 
                                                src="https://www.youtube.com/embed/${article.videoId}" 
                                                frameborder="0" 
                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                                allowfullscreen>
                                            </iframe>
                                        </div>
                                    </div>
                                    ` : ''}
                                    
                                    <div class="tab-content" id="tab-${index}-x">
                                        <h4>X (Twitter) Discussion</h4>
                                        <div class="x-feed" id="x-feed-${index}">
                                            ${xPosts}
                                        </div>
                                        <button class="refresh-x-btn" onclick="refreshXFeed(${index}, '${encodeURIComponent(article.title)}')">
                                            <svg viewBox="0 0 24 24" width="16" height="16">
                                                <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                                            </svg>
                                            Refresh X Feed
                                        </button>
                                    </div>
                                    
                                    <div class="tab-content" id="tab-${index}-source">
                                        <h4>Original Source</h4>
                                        <p>This article was published by <strong>${sourceName}</strong> on ${formatDate(article.publishedAt)}</p>
                                        <p class="source-link"><a href="${article.url}" target="_blank" rel="noopener">Read the original article</a></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <small>Published: ${formatDate(article.publishedAt)}</small>
                            <button onclick="toggleArticle(${index})">Read more</button>
                        </div>
                    </div>
                </article>
            `;
        }

        // Function to get a unique image for each article based on its content
        function getContentBasedImage(article) {
            // Extract keywords from title and description
            const content = (article.title + ' ' + article.description).toLowerCase();
            
            // Check for topic keywords and select appropriate image collection
            let selectedCollection = topicImages.ai; // Default to general AI
            
            if (content.includes('machine learning') || content.includes('neural') || content.includes('algorithm')) {
                selectedCollection = topicImages.ml;
            } else if (content.includes('robot') || content.includes('automation')) {
                selectedCollection = topicImages.robotics;
            } else if (content.includes('business') || content.includes('startup') || content.includes('investment') || 
                       content.includes('market') || content.includes('fund')) {
                selectedCollection = topicImages.business;
            } else if (content.includes('health') || content.includes('medical') || content.includes('hospital') || 
                       content.includes('patient') || content.includes('doctor')) {
                selectedCollection = topicImages.healthcare;
            } else if (content.includes('manufacturing') || content.includes('factory') || content.includes('production') || 
                       content.includes('industry')) {
                selectedCollection = topicImages.manufacturing;
            } else if (content.includes('research') || content.includes('study') || content.includes('scientist') || 
                       content.includes('discovery')) {
                selectedCollection = topicImages.research;
            } else if (content.includes('ethics') || content.includes('safety') || content.includes('regulation') || 
                       content.includes('policy')) {
                selectedCollection = topicImages.ethics;
            } else if (content.includes('social') || content.includes('twitter') || content.includes('facebook') || 
                       content.includes('media')) {
                selectedCollection = topicImages.social;
            } else if (article.category) {
                // Fall back to category-based selection
                selectedCollection = topicImages[article.category] || topicImages.ai;
            }
            
            // Use article index or hash of title to ensure consistent but varied image selection
            const titleHash = article.title.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            const index = titleHash % selectedCollection.length;
            
            return selectedCollection[index];
        }

        // Function to check if article has video content and assign relevant video
        function articleHasVideo(article) {
            // Check if article has a videoId property
            if (article.videoId) return true;
            
            // Check if article title or category suggests video content
            const videoKeywords = ['video', 'watch', 'demo', 'demonstration', 'tutorial', 'webinar', 'conference'];
            
            // Check title for video keywords
            if (article.title && videoKeywords.some(keyword => article.title.toLowerCase().includes(keyword))) {
                // Topic-specific video IDs
                const videosByTopic = {
                    // General AI overviews
                    general: ['TrdevFK_am4', 'Qi0z6jqjx9o', 'jAu1ZsTCA64'],
                    
                    // Machine learning specific
                    ml: ['2LaAJq1lB1Q', 'mJeNghZXtMo', 'QciIcRxJvsM'],
                    
                    // Business applications
                    business: ['UwsrzCVZAb8', 'V5BM92G-YnU', 'Nj2U6rhnucI'],
                    
                    // Industry applications
                    industry: ['8V20HkoLIqc', 'nM9f0W2KD5s', 'B-Osn1S8Dps'],
                    
                    // Ethics and safety
                    ethics: ['mQ7lnq4-JpU', 'pO-mwk7hQIw', 'R_K5xuhPy-g'],
                    
                    // Research breakthroughs
                    research: ['aircAruvnKk', 'kCc8FmEb1nY', 'LY7x2Ihqjmc']
                };
                
                // Extract keywords from title and description
                const content = (article.title + ' ' + article.description).toLowerCase();
                
                // Select appropriate video collection based on content
                let selectedCollection = videosByTopic.general;
                
                if (content.includes('machine learning') || content.includes('neural') || content.includes('algorithm')) {
                    selectedCollection = videosByTopic.ml;
                } else if (content.includes('business') || content.includes('startup') || content.includes('investment')) {
                    selectedCollection = videosByTopic.business;
                } else if (content.includes('industry') || content.includes('manufacturing') || content.includes('factory')) {
                    selectedCollection = videosByTopic.industry;
                } else if (content.includes('ethics') || content.includes('safety') || content.includes('regulation')) {
                    selectedCollection = videosByTopic.ethics;
                } else if (content.includes('research') || content.includes('study') || content.includes('discovery')) {
                    selectedCollection = videosByTopic.research;
                } else if (article.category) {
                    // Fall back to category-based selection
                    const categoryMap = {
                        news: 'general',
                        research: 'research',
                        business: 'business',
                        industry: 'industry',
                        trending: 'general'
                    };
                    const mappedCategory = categoryMap[article.category] || 'general';
                    selectedCollection = videosByTopic[mappedCategory] || videosByTopic.general;
                }
                
                // Select a random video from the collection
                const randomIndex = Math.floor(Math.random() * selectedCollection.length);
                article.videoId = selectedCollection[randomIndex];
                return true;
            }
            
            return false;
        }

        // Function to generate relevant article content based on the article topic
        function generateArticleContent(article) {
            const title = article.title.toLowerCase();
            const category = article.category;
            
            let content = '';
            
            if (category === 'news') {
                if (title.includes('gpt') || title.includes('announcement')) {
                    content = `
                        <p>The AI community is buzzing with anticipation as sources close to the development team hint at a groundbreaking announcement. 
                        The next generation model is expected to demonstrate significant improvements in reasoning, factuality, and multimodal capabilities.</p>
                        <p>Industry analysts predict this could represent a major leap forward in natural language processing technology, with potential 
                        applications across healthcare, education, and scientific research.</p>
                        <p>According to internal sources who spoke on condition of anonymity, the new model has shown remarkable improvements in several key areas:</p>
                        <ul>
                            <li>Enhanced reasoning capabilities for complex problem-solving</li>
                            <li>Improved factual accuracy and reduced hallucinations</li>
                            <li>Better understanding of nuanced instructions</li>
                            <li>More sophisticated multimodal processing abilities</li>
                        </ul>
                        <p>The official announcement is expected within weeks, though the company has declined to comment on specific timing or capabilities.</p>
                        <p>"This represents a significant step forward in AI capabilities," said Dr. Emily Chen, AI research director at Stanford. "If the rumors 
                        are accurate, we could see applications that fundamentally change how businesses and consumers interact with AI systems."</p>
                    `;
                } else if (title.includes('safety') || title.includes('guidelines')) {
                    content = `
                        <p>The recent AI Safety Summit brought together leaders from major AI labs, government representatives, and ethics experts to address 
                        growing concerns about advanced AI systems.</p>
                        <p>The newly established guidelines focus on transparency in training methodologies, rigorous testing protocols, and shared safety 
                        standards across the industry. These measures aim to ensure AI development proceeds responsibly while maximizing beneficial applications.</p>
                        <p>Key outcomes from the summit include:</p>
                        <ul>
                            <li>Formation of an international AI safety consortium with representatives from 23 countries</li>
                            <li>Agreement on standardized risk assessment frameworks for frontier AI models</li>
                            <li>Commitment to regular third-party audits of high-capability systems</li>
                            <li>Establishment of shared testing protocols for identifying potential misuse scenarios</li>
                        </ul>
                        <p>"This framework represents unprecedented cooperation between competing organizations," said Maria Rodriguez, chair of the summit. 
                        "We've moved beyond theoretical discussions to concrete actions that will help ensure AI development remains safe and beneficial."</p>
                        <p>The guidelines will be implemented through a phased approach over the next 18 months, with initial focus on models exceeding certain 
                        capability thresholds.</p>
                    `;
                } else {
                    content = `
                        <p>${article.title} represents a significant development in the artificial intelligence landscape. Industry experts have been closely 
                        monitoring these advancements and their potential implications for both technology providers and end users.</p>
                        <p>According to sources familiar with the matter, this news signals a shift in how AI technologies will be developed and deployed in 
                        the coming months. Market analysts predict this could influence strategic decisions across multiple sectors that rely on AI capabilities.</p>
                        <p>"We're seeing a convergence of several important trends," noted AI industry analyst James Wilson. "The technical capabilities, 
                        regulatory environment, and market demands are aligning in ways that make this development particularly significant."</p>
                        <p>Organizations are advised to closely monitor these developments and consider how they might impact existing AI implementation 
                        strategies and future roadmaps.</p>
                    `;
                }
            } else if (category === 'research') {
                if (title.includes('neural network') || title.includes('efficiency')) {
                    content = `
                        <p>A team of researchers from MIT and Stanford have published a breakthrough technique for neural network optimization that dramatically 
                        reduces model size while preserving performance metrics.</p>
                        <p>The approach, which combines novel pruning algorithms with knowledge distillation, could make advanced AI models accessible on 
                        consumer devices with limited computational resources.</p>
                        <p>The research team demonstrated that their method can compress large language models by up to 95% while maintaining over 97% of the 
                        original performance on standard benchmarks. This represents a significant advance over previous compression techniques that typically 
                        suffered from substantial performance degradation.</p>
                        <p>"The key innovation is our adaptive pruning algorithm that identifies and preserves critical pathways in the network," explained 
                        lead researcher Dr. Sarah Johnson. "Combined with our specialized knowledge distillation process, we can create extremely efficient 
                        models that retain the capabilities of much larger systems."</p>
                        <p>The technique has already been successfully applied to several popular model architectures, with the compressed versions running 
                        efficiently on smartphones and edge devices.</p>
                    `;
                } else if (title.includes('quantum') || title.includes('drug discovery')) {
                    content = `
                        <p>Researchers have successfully demonstrated how quantum computing can accelerate pharmaceutical research by simulating molecular 
                        interactions at unprecedented speed and accuracy.</p>
                        <p>Early tests show that quantum-enhanced algorithms can evaluate potential drug candidates orders of magnitude faster than 
                        conventional high-performance computing systems, potentially revolutionizing the drug discovery pipeline.</p>
                        <p>The breakthrough comes from a collaboration between quantum computing specialists and pharmaceutical researchers who developed 
                        specialized algorithms that leverage quantum properties to model complex molecular behavior.</p>
                        <p>"What would take traditional supercomputers weeks to simulate can now be accomplished in hours," said Dr. Robert Chen, who led the 
                        research team. "This dramatically accelerates the early stages of drug discovery where thousands of compounds need to be evaluated."</p>
                        <p>In a proof-of-concept study, the team used their quantum approach to identify several promising candidates for antibiotic-resistant 
                        infections, a process that would have taken months using conventional methods.</p>
                        <p>Industry experts suggest this could reduce drug development timelines by 30-40% and significantly lower the costs associated with 
                        bringing new treatments to market.</p>
                    `;
                } else {
                    content = `
                        <p>This groundbreaking research in ${article.title.toLowerCase()} represents a significant advancement in our understanding of 
                        artificial intelligence systems and their capabilities.</p>
                        <p>The research team, led by prominent scientists in the field, has developed novel approaches that challenge existing paradigms 
                        and open new possibilities for AI applications.</p>
                        <p>Their methodology combines established techniques with innovative approaches to address longstanding challenges in the field. 
                        The results demonstrate substantial improvements over previous state-of-the-art methods across multiple benchmark datasets.</p>
                        <p>"These findings have important implications for both theoretical understanding and practical applications," noted one peer reviewer. 
                        "The approach described here could influence research directions across multiple domains."</p>
                        <p>The team has made their research available through open-access publications and has released accompanying code repositories to 
                        facilitate reproducibility and further development by the broader research community.</p>
                    `;
                }
            } else if (category === 'business') {
                if (title.includes('startup') || title.includes('investment')) {
                    content = `
                        <p>The first quarter of this year has seen record-breaking venture capital flowing into AI startups, with over $12 billion invested 
                        across early and growth-stage companies.</p>
                        <p>Investors are particularly focused on vertical AI applications in healthcare, finance, and enterprise productivity, signaling 
                        a shift from general-purpose models to specialized solutions with clear ROI.</p>
                        <p>According to the latest industry reports, funding rounds have increased in both frequency and size, with the average Series A 
                        for AI startups now exceeding $15 million, up 40% from the previous year.</p>
                        <p>"We're seeing a maturation of the AI startup ecosystem," explained venture capitalist Emma Rodriguez. "Investors are now looking 
                        beyond technical capabilities to business models that demonstrate clear paths to profitability and scalable customer acquisition."</p>
                        <p>Particularly hot areas include:</p>
                        <ul>
                            <li>AI-powered diagnostic tools for healthcare providers</li>
                            <li>Specialized large language models for enterprise applications</li>
                            <li>AI systems for financial risk assessment and fraud detection</li>
                            <li>Generative AI platforms for content creation and marketing</li>
                        </ul>
                        <p>Industry analysts predict this trend will continue throughout the year, with total investment potentially reaching $50 billion by December.</p>
                    `;
                } else if (title.includes('alliance') || title.includes('partnership')) {
                    content = `
                        <p>In an unprecedented move, competing tech giants have formed a collaborative alliance to address common challenges in AI development 
                        and deployment.</p>
                        <p>The initiative will focus on establishing shared safety standards, creating interoperability protocols, and pooling non-competitive 
                        research to accelerate progress while ensuring responsible innovation.</p>
                        <p>The alliance includes seven major technology companies that collectively represent over 70% of current AI research output and deployment. 
                        By working together on foundational issues, they aim to avoid fragmentation that could slow industry progress.</p>
                        <p>"This partnership acknowledges that certain challenges are pre-competitive," said alliance spokesperson Michael Chen. "By sharing 
                        resources on safety research, testing methodologies, and technical standards, we can advance the field more responsibly than any 
                        single organization could alone."</p>
                        <p>The first initiatives will include:</p>
                        <ul>
                            <li>Development of standardized safety benchmarks for advanced AI systems</li>
                            <li>Creation of shared datasets for testing robustness and alignment</li>
                            <li>Establishment of common API standards to improve interoperability</li>
                            <li>Joint research on detecting AI-generated content and preventing misuse</li>
                        </ul>
                        <p>Industry analysts view this as a significant shift in how AI development is approached, potentially setting the stage for more 
                        collaborative models of technological advancement.</p>
                    `;
                } else {
                    content = `
                        <p>This business development represents a significant shift in how artificial intelligence is being commercialized and deployed 
                        across industries. Market analysts have noted that this move could reshape competitive dynamics in several key sectors.</p>
                        <p>Financial implications are substantial, with early estimates suggesting market value adjustments of several billion dollars 
                        as investors and competitors respond to this news. Trading volume for related stocks has increased significantly since the announcement.</p>
                        <p>"This represents one of the most significant business developments in AI this year," noted financial analyst Rebecca Johnson. 
                        "The strategic implications will likely influence decision-making across the industry for quarters to come."</p>
                        <p>Companies in adjacent markets are already evaluating potential responses, with several indicating they may accelerate their own 
                        AI initiatives in response to this development.</p>
                    `;
                }
            } else if (category === 'industry') {
                if (title.includes('manufacturing') || title.includes('factories')) {
                    content = `
                        <p>Manufacturing facilities implementing AI-driven automation systems are reporting dramatic improvements in operational efficiency, 
                        with average productivity gains of 50% and defect reduction of 37%.</p>
                        <p>These smart factories leverage computer vision for quality control, predictive maintenance algorithms to prevent downtime, and 
                        reinforcement learning for process optimization.</p>
                        <p>A comprehensive industry survey covering 150 manufacturing facilities across automotive, electronics, and consumer goods sectors 
                        revealed that AI implementation is delivering consistent results across different manufacturing environments.</p>
                        <p>"The return on investment has exceeded our most optimistic projections," said Maria Rodriguez, CTO at a leading automotive manufacturer. 
                        "Our AI systems paid for themselves within nine months, and we're now seeing sustained operational improvements quarter over quarter."</p>
                        <p>Key benefits reported by manufacturers include:</p>
                        <ul>
                            <li>63% average increase in production line efficiency</li>
                            <li>37% reduction in quality defects through AI-powered inspection systems</li>
                            <li>42% decrease in unplanned downtime through predictive maintenance</li>
                            <li>28% reduction in energy consumption through optimized operations</li>
                        </ul>
                        <p>Industry analysts predict that by 2026, over 75% of major manufacturing facilities worldwide will incorporate AI systems into their 
                        core production processes.</p>
                    `;
                } else if (title.includes('healthcare') || title.includes('hospital')) {
                    content = `
                        <p>A milestone has been reached in healthcare AI adoption as over 5,000 hospitals worldwide now utilize AI-powered diagnostic tools 
                        in clinical settings.</p>
                        <p>These systems have demonstrated remarkable accuracy in analyzing medical imaging, detecting patterns in patient data, and supporting 
                        clinical decision-making, leading to earlier diagnosis and improved patient outcomes.</p>
                        <p>The widespread adoption represents a significant shift from the experimental deployments of previous years to mainstream clinical use. 
                        Regulatory approvals have accelerated across major markets, with over 75 AI-based medical systems receiving clearance in the past year alone.</p>
                        <p>"We're seeing AI transition from a promising technology to an essential clinical tool," explained Dr. James Wilson, Chief Medical 
                        Information Officer at a leading hospital network. "The systems are now reliable enough and well-integrated enough to be part of standard 
                        clinical workflows."</p>
                        <p>Particularly successful applications include:</p>
                        <ul>
                            <li>AI-assisted interpretation of radiological images, reducing missed diagnoses by 31%</li>
                            <li>Early detection systems for patient deterioration in hospital settings</li>
                            <li>Automated screening of retinal images for diabetic retinopathy</li>
                            <li>Clinical decision support systems that identify potential drug interactions and treatment options</li>
                        </ul>
                        <p>Patient outcomes data from early adopters shows promising results, with one large study reporting a 17% improvement in early disease 
                        detection and a 23% reduction in unnecessary procedures when AI systems are properly integrated into clinical workflows.</p>
                    `;
                } else {
                    content = `
                        <p>This industry development marks a significant evolution in how artificial intelligence is being applied to solve real-world challenges 
                        in the ${article.category} sector. Organizations implementing these solutions are reporting substantial operational improvements and 
                        competitive advantages.</p>
                        <p>Early adopters have documented measurable benefits including cost reductions, quality improvements, and enhanced decision-making 
                        capabilities. These results are encouraging broader adoption across the industry.</p>
                        <p>"We're seeing a transition from experimental AI projects to mission-critical implementations," noted industry analyst Thomas Chen. 
                        "Organizations are moving beyond proof-of-concept to full-scale deployment with clear ROI metrics."</p>
                        <p>Industry experts recommend that organizations evaluate their readiness for similar implementations, with particular attention to 
                        data infrastructure, workforce skills, and process integration capabilities.</p>
                    `;
                }
            } else if (category === 'trending') {
                content = `
                    <p>This trending topic has captured significant attention on X (formerly Twitter), generating thousands of posts and millions of impressions 
                    in the past 24 hours. The conversation has spread rapidly across technology communities and into mainstream discussion.</p>
                    <p>Key opinion leaders in the AI space have contributed to the discourse, offering varied perspectives on the implications and importance 
                    of this development. The hashtag has consistently ranked in the top technology trends since it emerged.</p>
                    <p>Analysis of the conversation reveals several distinct viewpoints emerging:</p>
                    <ul>
                        <li>Technical discussions focusing on the underlying capabilities and limitations</li>
                        <li>Ethical considerations regarding potential applications and safeguards</li>
                        <li>Business implications for various industries and market participants</li>
                        <li>Broader societal impact and policy considerations</li>
                    </ul>
                    <p>The rapid spread of this topic demonstrates the growing public interest in artificial intelligence developments and their potential 
                    impact on daily life and work.</p>
                `;
            }
            
            // Default content if no specific match
            if (!content) {
                content = `
                    <p>This article explores the latest developments in ${article.title.toLowerCase()} and its potential impact on the 
                    ${article.category} sector.</p>
                    <p>Industry experts anticipate significant advancements in this area over the coming months, with implications for 
                    both technological innovation and practical applications.</p>
                    <p>As this story develops, we'll continue to provide updates and analysis on how these changes may affect various 
                    stakeholders and what organizations should consider in their strategic planning.</p>
                `;
            }
            
            return content;
        }

        // Function to fetch X (Twitter) trending topics related to AI
        async function fetchXTrending() {
            // Current date for fresh timestamps
            const now = new Date();
            const hoursAgo1 = new Date(now);
            hoursAgo1.setHours(hoursAgo1.getHours() - 1);
            const hoursAgo3 = new Date(now);
            hoursAgo3.setHours(hoursAgo3.getHours() - 3);
            const hoursAgo5 = new Date(now);
            hoursAgo5.setHours(hoursAgo5.getHours() - 5);
            const hoursAgo8 = new Date(now);
            hoursAgo8.setHours(hoursAgo8.getHours() - 8);
            const hoursAgo12 = new Date(now);
            hoursAgo12.setHours(hoursAgo12.getHours() - 12);
            
            // Mock trending topics from X with engagement metrics
            return [
                {
                    title: "#AIEthics Trending on X",
                    description: "Discussions about responsible AI development and ethical guidelines are gaining traction following recent industry announcements.",
                    publishedAt: hoursAgo1.toISOString(),
                    url: "https://x.com/search?q=%23AIEthics",
                    source: "X Trending",
                    category: "trending",
                    lastUpdated: "1 hour ago",
                    xMetrics: {
                        tweets: "12.4K",
                        impressions: "3.2M",
                        trending: "#1 in Technology"
                    },
                    imageUrl: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
                },
                {
                    title: "#MachineLearning Discussions Spike After Research Breakthrough",
                    description: "The tech community on X is buzzing about the latest neural network efficiency techniques published by leading AI labs.",
                    publishedAt: hoursAgo3.toISOString(),
                    url: "https://x.com/search?q=%23MachineLearning",
                    source: "X Trending",
                    category: "trending",
                    lastUpdated: "3 hours ago",
                    xMetrics: {
                        tweets: "8.7K",
                        impressions: "2.1M",
                        trending: "#3 in Technology"
                    },
                    imageUrl: "https://images.unsplash.com/photo-1677442135136-760c813029fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
                },
                {
                    title: "#AIJobs Trending as Companies Announce New Hiring Initiatives",
                    description: "Major tech firms are expanding their AI teams, leading to widespread discussion about career opportunities in artificial intelligence.",
                    publishedAt: hoursAgo5.toISOString(),
                    url: "https://x.com/search?q=%23AIJobs",
                    source: "X Trending",
                    category: "trending",
                    lastUpdated: "5 hours ago",
                    xMetrics: {
                        tweets: "5.3K",
                        impressions: "1.8M",
                        trending: "#7 in Technology"
                    },
                    imageUrl: "https://images.unsplash.com/photo-1589254065878-42c9da997008?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
                },
                {
                    title: "#GenerativeAI Debate Heats Up After New Research Publication",
                    description: "Researchers and practitioners discuss implications of the latest advancements in text-to-image and text-to-video technologies.",
                    publishedAt: hoursAgo8.toISOString(),
                    url: "https://x.com/search?q=%23GenerativeAI",
                    source: "X Trending",
                    category: "trending",
                    lastUpdated: "8 hours ago",
                    xMetrics: {
                        tweets: "7.2K",
                        impressions: "1.5M",
                        trending: "#5 in Technology"
                    },
                    imageUrl: "https://images.unsplash.com/photo-1639322537228-f710d846310a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
                },
                {
                    title: "#AIRegulation Discussions Following New Policy Announcements",
                    description: "Policy experts and industry leaders weigh in on the latest regulatory frameworks proposed for artificial intelligence.",
                    publishedAt: hoursAgo12.toISOString(),
                    url: "https://x.com/search?q=%23AIRegulation",
                    source: "X Trending",
                    category: "trending",
                    lastUpdated: "12 hours ago",
                    xMetrics: {
                        tweets: "4.8K",
                        impressions: "1.2M",
                        trending: "#9 in Technology"
                    },
                    imageUrl: "https://images.unsplash.com/photo-1607799279861-4dd421887fb3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
                }
            ];
        }

        // Function to fetch news by category
        async function fetchAINews(category = 'news') {
            try {
                // Special handling for X trending category
                if (category === 'trending') {
                    return await fetchXTrending();
                }
                
                // Try to fetch real news data from an API
                const apiKey = 'YOUR_API_KEY'; // Replace with your actual API key
                const apiUrl = `https://newsapi.org/v2/everything?q=artificial+intelligence+${category}&sortBy=publishedAt&apiKey=${apiKey}`;
                
                // First try to get real news data
                try {
                    const response = await fetch(apiUrl);
                    if (response.ok) {
                        const data = await response.json();
                        if (data.articles && data.articles.length > 0) {
                            // Map API response to our article format
                            return data.articles.slice(0, 8).map(article => ({
                                title: article.title,
                                description: article.description || "Latest updates on artificial intelligence developments.",
                                publishedAt: article.publishedAt,
                                url: article.url,
                                source: article.source.name,
                                category: category,
                                imageUrl: article.urlToImage
                            }));
                        }
                    }
                    // If API call fails, fall back to curated data
                    throw new Error('API request failed');
                } catch (error) {
                    console.log('Using curated news data instead of API:', error.message);
                    // Fall back to curated data with current timestamps
                }
                
                // Current date for fresh timestamps
                const now = new Date();
                const yesterday = new Date(now);
                yesterday.setDate(yesterday.getDate() - 1);
                const twoDaysAgo = new Date(now);
                twoDaysAgo.setDate(twoDaysAgo.getDate() - 2);
                const threeDaysAgo = new Date(now);
                threeDaysAgo.setDate(threeDaysAgo.getDate() - 3);
                const fourDaysAgo = new Date(now);
                fourDaysAgo.setDate(fourDaysAgo.getDate() - 4);
                
                // Up-to-date curated news data with current timestamps
                const curatedArticles = {
                    news: [
                        {
                            title: "Claude 3.5 Sonnet Released with Enhanced Reasoning Capabilities",
                            description: "Anthropic's latest model shows significant improvements in coding, mathematics, and factual accuracy compared to previous versions.",
                            publishedAt: now.toISOString(),
                            url: "https://anthropic.com/news/",
                            source: "Anthropic",
                            category: "news",
                            lastUpdated: "Just now"
                        },
                        {
                            title: "AI Safety Summit 2024 Concludes with International Cooperation Framework",
                            description: "Global leaders establish new oversight mechanisms for frontier AI models and agree on safety benchmarks.",
                            publishedAt: yesterday.toISOString(),
                            url: "https://aisafety.org/",
                            source: "AI Safety Initiative",
                            category: "news",
                            lastUpdated: "1 day ago"
                        },
                        {
                            title: "OpenAI Announces GPT-5 Development Timeline",
                            description: "The company revealed plans for their next-generation model with improved multimodal capabilities and reasoning.",
                            publishedAt: twoDaysAgo.toISOString(),
                            url: "https://openai.com/blog/",
                            source: "OpenAI",
                            category: "news",
                            lastUpdated: "2 days ago"
                        },
                        {
                            title: "Google DeepMind Unveils New Multimodal AI System",
                            description: "The system demonstrates unprecedented capabilities in understanding and generating content across text, images, and audio.",
                            publishedAt: threeDaysAgo.toISOString(),
                            url: "https://deepmind.google/",
                            source: "Google DeepMind",
                            category: "news",
                            lastUpdated: "3 days ago"
                        },
                        {
                            title: "EU AI Act Implementation Guidelines Released",
                            description: "European Commission publishes detailed guidance for companies to comply with the new AI regulations.",
                            publishedAt: fourDaysAgo.toISOString(),
                            url: "https://ec.europa.eu/",
                            source: "European Commission",
                            category: "news",
                            lastUpdated: "4 days ago"
                        }
                    ],
                    research: [
                        {
                            title: "New Technique Reduces AI Model Size by 95% While Maintaining Accuracy",
                            description: "Researchers at MIT developed a novel pruning algorithm that dramatically improves efficiency for deployment on edge devices.",
                            publishedAt: now.toISOString(),
                            url: "https://research.mit.edu/",
                            source: "MIT Research",
                            category: "research",
                            lastUpdated: "Just now"
                        },
                        {
                            title: "Quantum-Enhanced Machine Learning Shows Promise in Materials Discovery",
                            description: "Hybrid quantum-classical algorithms demonstrate unprecedented speed in simulating molecular structures for new materials.",
                            publishedAt: yesterday.toISOString(),
                            url: "https://quantum-ai.research/",
                            source: "Quantum AI Journal",
                            category: "research",
                            lastUpdated: "1 day ago"
                        },
                        {
                            title: "Breakthrough in Multimodal Learning Enables Single Model to Process Text, Images, Audio and Video",
                            description: "A unified architecture achieves state-of-the-art results across multiple domains with fewer parameters than specialized models.",
                            publishedAt: twoDaysAgo.toISOString(),
                            url: "https://ai-research.org/",
                            source: "AI Research Foundation",
                            category: "research",
                            lastUpdated: "2 days ago"
                        },
                        {
                            title: "Self-Supervised Learning Advances Enable Training on Unlabeled Data",
                            description: "New research demonstrates how AI systems can learn effectively from vast amounts of unlabeled data, reducing dependency on expensive annotations.",
                            publishedAt: threeDaysAgo.toISOString(),
                            url: "https://research.stanford.edu/",
                            source: "Stanford AI Lab",
                            category: "research",
                            lastUpdated: "3 days ago"
                        },
                        {
                            title: "Neuromorphic Computing Breakthrough Mimics Human Brain Function",
                            description: "New chip architecture processes information more like biological neurons, achieving significant energy efficiency gains.",
                            publishedAt: fourDaysAgo.toISOString(),
                            url: "https://www.nature.com/",
                            source: "Nature",
                            category: "research",
                            lastUpdated: "4 days ago"
                        }
                    ],
                    business: [
                        {
                            title: "AI Startups Raise Record $42 Billion in First Half of 2024",
                            description: "Venture capital funding for AI companies continues to grow despite broader tech market fluctuations.",
                            publishedAt: now.toISOString(),
                            url: "https://venturebeat.com/",
                            source: "VentureBeat",
                            category: "business",
                            lastUpdated: "Just now"
                        },
                        {
                            title: "Major Cloud Providers Announce AI Infrastructure Expansion",
                            description: "AWS, Google Cloud, and Microsoft Azure unveil massive investments in specialized AI computing resources to meet growing demand.",
                            publishedAt: yesterday.toISOString(),
                            url: "https://cloudcomputing.news/",
                            source: "Cloud Computing News",
                            category: "business",
                            lastUpdated: "1 day ago"
                        },
                        {
                            title: "Enterprise AI Adoption Reaches 78% Among Fortune 500 Companies",
                            description: "New survey reveals widespread implementation of AI solutions across multiple business functions, with ROI exceeding expectations.",
                            publishedAt: twoDaysAgo.toISOString(),
                            url: "https://enterprise-ai.report/",
                            source: "Enterprise AI Report",
                            category: "business",
                            lastUpdated: "2 days ago"
                        },
                        {
                            title: "AI Chip Startup Secures $500M in Series C Funding",
                            description: "The company's specialized processors for AI training and inference have gained significant market traction against established competitors.",
                            publishedAt: threeDaysAgo.toISOString(),
                            url: "https://techcrunch.com/",
                            source: "TechCrunch",
                            category: "business",
                            lastUpdated: "3 days ago"
                        },
                        {
                            title: "Financial Services Industry Increases AI Investment by 35%",
                            description: "Banks and financial institutions are accelerating AI adoption for fraud detection, customer service, and algorithmic trading.",
                            publishedAt: fourDaysAgo.toISOString(),
                            url: "https://www.fintech.news/",
                            source: "FinTech News",
                            category: "business",
                            lastUpdated: "4 days ago"
                        }
                    ],
                    industry: [
                        {
                            title: "Smart Manufacturing Systems Show 63% Efficiency Gains in Automotive Sector",
                            description: "AI-powered automation and predictive maintenance transform production lines with dramatic improvements in output and quality.",
                            publishedAt: now.toISOString(),
                            url: "https://manufacturing.ai/",
                            source: "Manufacturing AI",
                            category: "industry",
                            lastUpdated: "Just now"
                        },
                        {
                            title: "Healthcare AI Deployment Reaches 5,000 Hospitals Worldwide",
                            description: "Medical imaging diagnostics and clinical decision support systems achieve regulatory approval across major markets.",
                            publishedAt: yesterday.toISOString(),
                            url: "https://healthcare-ai.org/",
                            source: "Healthcare AI Coalition",
                            category: "industry",
                            lastUpdated: "1 day ago"
                        },
                        {
                            title: "AI-Powered Drug Discovery Platform Identifies Novel Treatment for Resistant Infections",
                            description: "Computational biology startup announces breakthrough in antibiotic research using reinforcement learning algorithms.",
                            publishedAt: twoDaysAgo.toISOString(),
                            url: "https://biotech-ai.news/",
                            source: "Biotech AI News",
                            category: "industry",
                            lastUpdated: "2 days ago"
                        },
                        {
                            title: "Retail Sector Embraces Computer Vision for Inventory Management",
                            description: "Major retailers report significant cost savings and improved accuracy using AI-powered visual recognition systems.",
                            publishedAt: threeDaysAgo.toISOString(),
                            url: "https://retail-tech.org/",
                            source: "Retail Technology Institute",
                            category: "industry",
                            lastUpdated: "3 days ago"
                        },
                        {
                            title: "AI-Enabled Precision Agriculture Reduces Water Usage by 40%",
                            description: "Smart farming systems using computer vision and IoT sensors optimize irrigation and resource management.",
                            publishedAt: fourDaysAgo.toISOString(),
                            url: "https://agritech.news/",
                            source: "AgriTech News",
                            category: "industry",
                            lastUpdated: "4 days ago"
                        }
                    ]
                };
                
                return curatedArticles[category] || curatedArticles.news;
            } catch (error) {
                console.error('Error fetching news:', error);
                // Return empty array as fallback
                return [];
            }
        }

        // Function to update news content
        async function updateNews() {
            try {
                const articles = await fetchAINews();
                const newsContainer = document.querySelector('.grid');
                let newsHTML = '';

                articles.forEach((article, index) => {
                    newsHTML += createNewsCard(article, index);
                });

                newsContainer.innerHTML = newsHTML;
            } catch (error) {
                console.error('Error updating news:', error);
            }
        }

        // Function to toggle article expansion
        function toggleArticle(id) {
            const expandedContent = document.getElementById(`expanded-${id}`);
            expandedContent.classList.toggle('active');
        }
        
        // Function to filter content by category
        async function filterContent(category) {
            // Update active nav link
            document.querySelectorAll('.main-nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + category) {
                    link.classList.add('active');
                }
            });
            
            // Show loading state
            const container = document.querySelector('.grid');
            container.style.opacity = '0.5';
            
            // Fetch news for selected category
            const articles = await fetchAINews(category);
            let newsHTML = '';
            
            // Create news cards
            articles.forEach((article, index) => {
                newsHTML += createNewsCard(article, index);
            });
            
            // Update content with animation
            setTimeout(() => {
                container.innerHTML = newsHTML;
                container.style.opacity = '1';
                
                // Update header text
                const categoryTitles = {
                    news: 'Latest AI News & Updates',
                    research: 'AI Research & Breakthroughs',
                    business: 'AI Business & Markets',
                    industry: 'Industry Applications & Impact',
                    trending: 'Trending on X'
                };
                
                document.querySelector('#featured h2').textContent = categoryTitles[category] || 'Featured Content';
            }, 300);
        }
        
        // Function to search news
        function searchNews() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm.length < 2) return;
            
            // For demo purposes, just show an alert
            alert(`Searching for: ${searchTerm}`);
            
            // In a real implementation, you would filter the news cards based on the search term
        }
        
        // Function to switch tabs
        function showTab(articleId, tabName) {
            // Hide all tab contents for this article
            const tabContents = document.querySelectorAll(`[id^="tab-${articleId}-"]`);
            tabContents.forEach(tab => tab.classList.remove('active'));
            
            // Show the selected tab
            document.getElementById(`tab-${articleId}-${tabName}`).classList.add('active');
            
            // Update tab button states
            const tabButtons = document.querySelector(`[id="expanded-${articleId}"]`).querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }
        
        // Function to get X (Twitter) posts for an article
        function getXPostsForArticle(article) {
            // Keywords to search for in X based on article title and category
            const keywords = article.title.split(' ')
                .filter(word => word.length > 4)
                .slice(0, 3)
                .join(' OR ');
                
            // Mock X posts based on article topic
            const mockXPosts = [
                {
                    username: 'AIResearcher',
                    handle: '@ai_research',
                    verified: true,
                    content: `Just read about ${article.title.split(':')[0]}. This could be a game changer for the industry! #AI #MachineLearning`,
                    timestamp: '2h ago',
                    likes: Math.floor(Math.random() * 1000) + 100,
                    retweets: Math.floor(Math.random() * 500) + 50,
                    replies: Math.floor(Math.random() * 100) + 10,
                    profileImg: 'https://randomuser.me/api/portraits/men/32.jpg'
                },
                {
                    username: 'TechInsider',
                    handle: '@tech_insider',
                    verified: true,
                    content: `Breaking: ${article.title}. Our analysis shows this development could impact ${article.category} significantly in the coming months.`,
                    timestamp: '4h ago',
                    likes: Math.floor(Math.random() * 2000) + 500,
                    retweets: Math.floor(Math.random() * 1000) + 200,
                    replies: Math.floor(Math.random() * 200) + 50,
                    profileImg: 'https://randomuser.me/api/portraits/women/44.jpg'
                },
                {
                    username: 'OpenAI',
                    handle: '@OpenAI',
                    verified: true,
                    content: `We're excited about the latest developments in ${article.category}. The potential applications are enormous.`,
                    timestamp: '1d ago',
                    likes: Math.floor(Math.random() * 5000) + 1000,
                    retweets: Math.floor(Math.random() * 2000) + 500,
                    replies: Math.floor(Math.random() * 500) + 100,
                    profileImg: 'https://pbs.twimg.com/profile_images/1634058036934500352/b4F1eVpJ_400x400.jpg'
                }
            ];
            
            // Generate HTML for X posts
            return mockXPosts.map(post => `
                <div class="x-post">
                    <div class="x-post-header">
                        <img src="${post.profileImg}" alt="${post.username}" class="x-profile-img">
                        <div class="x-user-info">
                            <div class="x-name">
                                ${post.username} ${post.verified ? '<span class="x-verified"></span>' : ''}
                            </div>
                            <div class="x-handle">${post.handle}</div>
                        </div>
                        <div class="x-logo">
                            <svg viewBox="0 0 24 24" width="20" height="20">
                                <path fill="#1DA1F2" d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="x-post-content">${post.content}</div>
                    <div class="x-post-footer">
                        <span class="x-timestamp">${post.timestamp}</span>
                        <div class="x-stats">
                            <span class="x-stat"><i class="x-icon"></i> ${post.replies}</span>
                            <span class="x-stat"><i class="x-icon"></i> ${post.retweets}</span>
                            <span class="x-stat"><i class="x-icon"></i> ${post.likes}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Function to refresh X feed for a specific article
        function refreshXFeed(index, encodedTitle) {
            const title = decodeURIComponent(encodedTitle);
            const xFeedElement = document.getElementById(`x-feed-${index}`);
            
            if (xFeedElement) {
                // Show loading state
                xFeedElement.innerHTML = '<div class="x-loading">Loading latest posts from X...</div>';
                
                // Simulate API call delay
                setTimeout(() => {
                    // Create a mock article object to generate new posts
                    const mockArticle = {
                        title: title,
                        category: ['news', 'research', 'business', 'industry'][Math.floor(Math.random() * 4)]
                    };
                    
                    // Get fresh X posts
                    const freshPosts = getXPostsForArticle(mockArticle);
                    xFeedElement.innerHTML = freshPosts;
                    
                    // Show refresh notification
                    const notification = document.createElement('div');
                    notification.className = 'x-refresh-notification';
                    notification.textContent = 'X feed updated with latest posts';
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.classList.add('fade-out');
                        setTimeout(() => document.body.removeChild(notification), 500);
                    }, 2000);
                }, 1000);
            }
        }

        // Function to show topic modal when clicking on divider
        function showTopicModal(topic) {
            alert(`Exploring more about ${topic}. In a full implementation, this would open a dedicated page or modal with curated content about this topic.`);
        }

        // Set initial last updated time and start auto-refresh countdown
        document.addEventListener('DOMContentLoaded', function() {
            const lastUpdatedElement = document.getElementById('last-updated');
            if (lastUpdatedElement) {
                lastUpdatedElement.textContent = new Date().toLocaleTimeString();
            }
            
            // Initial load with news category
            filterContent('news');
            
            // Start countdown for next refresh
            startRefreshCountdown();
        });
        
        // Function to show countdown until next refresh
        function startRefreshCountdown() {
            const countdownElement = document.getElementById('refresh-countdown');
            if (!countdownElement) return;
            
            let secondsLeft = 300; // 5 minutes
            
            // Clear any existing interval
            if (window.countdownInterval) {
                clearInterval(window.countdownInterval);
            }
            
            // Update countdown every second
            window.countdownInterval = setInterval(() => {
                secondsLeft--;
                
                const minutes = Math.floor(secondsLeft / 60);
                const seconds = secondsLeft % 60;
                
                countdownElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                if (secondsLeft <= 0) {
                    clearInterval(window.countdownInterval);
                    countdownElement.textContent = "Refreshing...";
                    // Will be reset by the setInterval refresh function
                }
            }, 1000);
        }
        
        // Update content every 5 minutes with visual indicator
        setInterval(() => {
            // Show update notification
            const notification = document.createElement('div');
            notification.className = 'update-notification';
            notification.innerHTML = `
                <div class="notification-content">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
                    </svg>
                    <span>Updating with fresh AI content...</span>
                </div>
            `;
            document.body.appendChild(notification);
            
            // Remove notification after update
            setTimeout(() => {
                updateNews().then(() => {
                    notification.classList.add('fade-out');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 500);
                    
                    // Update the last updated time in the header
                    const now = new Date();
                    const timeString = now.toLocaleTimeString();
                    const lastUpdatedElement = document.getElementById('last-updated');
                    if (lastUpdatedElement) {
                        lastUpdatedElement.textContent = timeString;
                    }
                    
                    // Reset countdown
                    const countdownElement = document.getElementById('refresh-countdown');
                    if (countdownElement) {
                        countdownElement.textContent = "5:00";
                        startRefreshCountdown();
                    }
                });
            }, 1000);
        }, 300000); // 5 minutes in milliseconds
        
        // Function to check for new content
        function checkForUpdates() {
            const updateButton = document.getElementById('update-button');
            if (updateButton) {
                updateButton.classList.add('pulse');
                updateButton.disabled = true;
                
                updateNews().then(() => {
                    updateButton.classList.remove('pulse');
                    updateButton.disabled = false;
                    
                    // Update the last updated time
                    const now = new Date();
                    const timeString = now.toLocaleTimeString();
                    const lastUpdatedElement = document.getElementById('last-updated');
                    if (lastUpdatedElement) {
                        lastUpdatedElement.textContent = timeString;
                    }
                    
                    // Reset countdown
                    const countdownElement = document.getElementById('refresh-countdown');
                    if (countdownElement) {
                        countdownElement.textContent = "5:00";
                        startRefreshCountdown();
                    }
                });
            }
        }

        // Smooth scrolling for navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const section = document.querySelector(this.getAttribute('href'));
                section.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // No longer need intersection observer since we removed dividers
    </script>
</body>
</html>